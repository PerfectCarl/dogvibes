#summary Instructions on how to set up the dogvibes suite

= Introduction =

This project has just started so beware of excessive tweaking.


= Procedure =

These instructions apply for Ubuntu 8.10 and might have to be altered for other distributions. Don't forget to run in a context with appropriate permissions, e.g. sudo ;)

== Dependencies ==

Start with:
`apt-get install cvs subversion git git-core flex bison libglib2.0-dev autoconf libtool libxml2-dev gtk-doc-tools libmp3lame-dev libmad0-dev liboil-dev libasound-dev libdbus-glib-1-dev libexpat1-dev libstdc++6-4.3-dev libgconf2-dev libdbus-ruby libsqlite3-dev ruby1.8 rubygems1.8 libopenssl-ruby`

*libmms* - required for internet radio (mms:)
  * Download and build latest libmms from http://sourceforge.net/projects/libmms


=== Vala ===
  * Download and unpack latest version at http://live.gnome.org/Vala/Release
  * wget http://download.gnome.org/sources/vala/0.7/vala-0.7.1.tar.bz2
  * tar -xvf vala-0.7.1.tar.bz2 && cd vala-0.7.1
  * ./configure && make install
  * ldconfig -v
  * For the emacs user there are bindings http://live.gnome.org/Vala/Emacs
  * For vim-users: wget "http://live.gnome.org/Vala/Vim?action=AttachFile&do=get&target=vala.vim" -O vaja.vim
  * http://live.gnome.org/Vala/Vim

=== libspotify ===
  * Download and unpack latest version at http://developer.spotify.com/en/libspotify/overview/
  * wget http://developer.spotify.com/download/libspotify/libspotify-0.0.1-linux6-x86.tar.gz
  * tar -xvf libspotify-0.0.1-linux6-x86.tar.gz
  * make install prefix=/usr/local
  * ldconfig -v

=== GStreamer ===
  * mkdir src
  * cd src
  * git clone git://anongit.freedesktop.org/gstreamer/gstreamer
  * git clone git://anongit.freedesktop.org/gstreamer/gst-plugins-base
  * git clone git://anongit.freedesktop.org/gstreamer/gst-plugins-good
  * git clone git://anongit.freedesktop.org/gstreamer/gst-plugins-bad
  * git clone git://anongit.freedesktop.org/gstreamer/gst-plugins-ugly
  * git clone git://anongit.freedesktop.org/gstreamer/gst-ffmpeg
  * export PKG_CONFIG_PATH=/usr/local/lib/pkgconfig
  * In each of the checked out folders run:./autogen.sh && make install (there are some deps between the packages, so follow the order in the list above)
  * Test your installation with `gst-launch audiotestsrc ! audioconvert ! alsasink`


== dogvibes suite ==

  Check out everything from the Google Code repository and install in the following order:

=== gst-spotify-src ===
  * autogen.sh
  * make install

=== dogvibes ===
  * Edit `dogvibes.conf` and change user from _dogvibes_ to your Linux user name
  * `cp dogvibes.conf /etc/dbus-1/system.d`
  * Change user and pass for Spotify in setup_spotify.vala
  * dbus-send --print-reply --system --dest=org.freedesktop.DBus / org.freedesktop.DBus.ReloadConfig
  * Run `compile`
  * Start server with `runserver`

=== interface ===
  * gem install -v=2.1.0 rails
  * Run script/server