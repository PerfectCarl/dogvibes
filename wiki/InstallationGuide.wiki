#summary Instructions on how to set up the dogvibes suite

= Introduction =

This product uses SPOTIFY(R) CORE but is not endorsed, certified or otherwise approved in any way by Spotify. Spotify is the registered trade mark of the Spotify Group

= Linux Installation =

This project has just started so beware of excessive tweaking. Since its start it has gotten much easier to install dogvibes.

These instructions apply for Ubuntu 9.04 and might have to be altered for other distributions. Don't forget to run in a context with appropriate permissions, e.g. sudo ;)

== Dependencies ==

Start with installing all dependencies and tools for building dogvibes remember to run as privileged user (i.e. sudo):

{{{
apt-get install build-essential cvs subversion git git-core flex bison libglib2.0-dev autoconf \
libtool libxml2-dev gtk-doc-tools libmp3lame-dev libmad0-dev liboil-dev libasound-dev libdbus-glib-1-dev \
libexpat1-dev libstdc++6-4.3-dev libsqlite3-dev python-tagpy python-sqlite libid3tag0-dev python-cjson \
python-twisted libgstreamer0.10-dev libgstreamer-plugins-base0.10-dev \
gstreamer0.10-plugins-base gstreamer0.10-plugins-good gstreamer0.10-plugins-bad gstreamer0.10-plugins-ugly
}}}

For gentoo, use emerge instead. Get python-cjson from here and add it to a custom overlay and emerge: http://www.ebuildfind.net/application/python-cjson/

== Libspotify ==
  * Download and unpack latest version at http://developer.spotify.com/en/libspotify/overview/
  * Currently its 0.0.4
{{{
wget http://developer.spotify.com/download/libspotify/libspotify-0.0.4-linux6-i686.tar.gz
# use x86_64 if needed, see the site
tar -xvf http://developer.spotify.com/download/libspotify/libspotify-0.0.4-linux6-i686.tar.gz
cd libspotify-0.0.4-linux6-i686
make install prefix=/usr/local #run as privileged user (i.e. sudo)
ldconfig -v #run as privileged user (i.e. sudo)
}}}

== Fetch and install dogvibes code ==
  * Fetch the dogvibes code from googlecode.
  * Install gstreamer source.
{{{
svn checkout http://dogvibes.googlecode.com/svn/trunk/ dogvibes
cd dogvibes/gst-spot-src
autogen.sh --prefix=/usr/local 
make install #run as privileged user (i.e. sudo)
}}}
  * Jump to section Start Dogvibes.

= Mac OS X Installation =

== Dependencies ==
  * Install the latest Xcode from Apple
  * Install macports (macports.org)
  * sudo port install py26-gst-python
  * sudo port install py26-cjson
  * sudo port install py26-pil
  * sudo port install libvorbis
  * Test your installation with gst-launch:
    `gst-launch audiotestsrc ! audioconvert ! osxaudiosink`

~~~
== libopenspotify ==
  * git clone git://github.com/noahwilliamsson/openspotify.git
  * Change the following in openspotify/libopenspotify/Makefile:
{{{
-CFLAGS = -Wall -ggdb -I../include -fPIC -O2
-LDFLAGS = -lcrypto -lresolv -lz -lvorbisfile
+CFLAGS = -Wall -ggdb -I../include -I/opt/local/include -fPIC -O2
+LDFLAGS = -lcrypto -lresolv -lz -lvorbisfile -L/opt/local/lib
}}}
  * sudo make prefix=/opt/local install
~~~
== Libspotify ==
  * Download and unpack latest version at http://developer.spotify.com/en/libspotify/overview/
  * Currently its 0.0.4
{{{
wget http://developer.spotify.com/download/libspotify/libspotify-0.0.4-darwin.zip
FIXME:
}}}

== gst-spot-src ==
  * cd ./gst-spot-src
  * autogen.sh --prefix=/*opt*/local
  * Make sure your path has this order, PATH=/opt/local/bin:/usr/bin:/bin with opt/local first, so we use the newest tools for the job
  * make install

= Start Dogvibes =
  * Change to directory where the dogvibes suite is located.
  * Start server.
{{{
cd dogvibes/dogvibes/src
SPOTIFY_USER=user SPOTIFY_PASSWORD=pass ./twisted_server.py
}}}
  * Steer your browser to http://www.dogvibes.com.
  * Enter ws://yourserverip:9999 when promted.
  * or just start a localwebserver and use clients/spotify_clone and try index.html, use python -m SimpleHTTPServer in the spotify_clone dir to start a simple server.
  * to use the websockets you need chrome/safari or otherwise use http://ip:2000
  * Enjoy :)

= Clients =